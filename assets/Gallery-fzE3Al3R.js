import{r,o as i,c as d,w as l,a as u,f,F as y,g as C,q as x,s as G,_ as h,p as L,d as k,t as N,n as S,e as g}from"./index-BLFh__II.js";import{s as b}from"./services-CyPq6jF0.js";const w={__name:"BaseGridLayout",props:{cards:{type:Array,requited:!0},containerClass:{type:String,default:"pa-0"},xsCols:{type:[Number,String],default:12},smCols:{type:[Number,String],default:6},mdCols:{type:[Number,String],default:4},lgCols:{type:[Number,String],default:3}},setup(e){return(n,s)=>{const o=r("v-col"),c=r("v-row"),_=r("v-container");return i(),d(_,{class:G(e.containerClass)},{default:l(()=>[u(c,null,{default:l(()=>[(i(!0),f(y,null,C(e.cards,(t,a)=>(i(),d(o,{key:a,cols:e.xsCols,sm:e.smCols,md:e.mdCols,lg:e.lgCols},{default:l(()=>[x(n.$slots,"card",{item:t,index:a})]),_:2},1032,["cols","sm","md","lg"]))),128))]),_:3})]),_:3},8,["class"])}}},B={__name:"GalleryGrid",props:{cards:{type:Array}},emits:["navigate-to-gallery-info"],setup(e,{emit:n}){const s=e,o=n,c=L(()=>s.cards);return(_,t)=>{const a=r("v-img"),p=r("v-card-text"),v=r("v-card");return i(),d(w,{cards:c.value},{card:l(({item:m})=>[u(v,{class:"pa-4",border:"",outlined:"",onClick:()=>o("navigate-to-gallery-info",m.uuid)},{default:l(()=>[u(a,{"aspect-ratio":"1/1",src:m.images[0].image_path,cover:"",class:"img-container",style:{"aspect-ratio":"1/1"}},null,8,["src"]),u(p,{class:"px-0 pb-0 photo-text"},{default:l(()=>[k(N(m.description),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:1},8,["cards"])}}},I=h(B,[["__scopeId","data-v-960c5d14"]]),q={__name:"Gallery",setup(e){const n=S(),s=g({current_page:0,last_page:1/0}),o=g([]),c=async({done:t})=>{let a;[a,s.value]=await b.getGalleryList(),o.value.push(...a),console.log("galleryList:",o.value),console.log("pagination:",s.value),s.value.current_page<s.value.last_page?t("ok"):t("empty")},_=t=>{console.log(t),n.push(`/gallery/${t}`)};return(t,a)=>{const p=r("v-infinite-scroll");return i(),d(p,{onLoad:c,color:"orange"},{default:l(()=>[u(I,{cards:o.value,onNavigateToGalleryInfo:_},null,8,["cards"])]),_:1})}}};export{q as default};
